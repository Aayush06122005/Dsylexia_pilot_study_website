<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>School Registration - Dyslexia Research Study</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="{{ url_for('static', filename='landing_style.css') }}">
</head>
<body>
    <!-- Header -->
    <header class="primary-bg text-white py-4 md:py-6">
        <div class="content-wrapper flex justify-between items-center px-3 sm:px-4">
            <div class="flex items-center flex-1 min-w-0">
                <img src="{{ url_for('static', filename='gauge.png') }}" alt="Dashboard Graphic" class="h-8 w-8 sm:h-10 sm:w-10 md:h-12 md:w-12 rounded-full mr-2 sm:mr-3 md:mr-4">
                <h1 class="text-sm sm:text-base md:text-xl lg:text-2xl font-bold truncate">School Registration</h1>
            </div>
            
            <!-- Hamburger Menu Button (visible on small screens) -->
            <button id="hamburgerBtn" class="md:hidden text-white p-2 hover:bg-blue-700 rounded transition" aria-label="Toggle menu">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
                </svg>
            </button>
            
            <!-- Desktop Navigation (hidden on small screens) -->
            <nav class="hidden md:block">
                <ul class="flex space-x-2 lg:space-x-4 xl:space-x-6 text-sm lg:text-base xl:text-lg items-center">
                    <li><a href="{{ url_for('landing') }}#about" class="hover:text-yellow-100 transition">About</a></li>
                    <li><a href="{{ url_for('landing') }}#contact" class="hover:text-yellow-100 transition">Contact</a></li>
                    <li><a href="{{ url_for('signin') }}" class="hover:text-yellow-100 transition">Sign In</a></li>
                </ul>
            </nav>
        </div>
    </header>
    
    <!-- Mobile Navigation Menu (slide-out) -->
    <div id="mobileMenu" class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden">
        <div id="mobileMenuContent" class="fixed right-0 top-0 h-full w-64 bg-[#1A237E] text-white transform translate-x-full transition-transform duration-300 ease-in-out shadow-lg">
            <div class="flex justify-between items-center p-4 border-b border-blue-700">
                <h2 class="text-lg font-bold">Menu</h2>
                <button id="closeMobileMenu" class="text-white p-2 hover:bg-blue-700 rounded transition" aria-label="Close menu">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                    </svg>
                </button>
            </div>
            <nav class="p-4">
                <ul class="space-y-4">
                    <li><a href="{{ url_for('landing') }}#about" class="block py-2 px-4 hover:bg-blue-700 rounded transition">About</a></li>
                    <li><a href="{{ url_for('landing') }}#contact" class="block py-2 px-4 hover:bg-blue-700 rounded transition">Contact</a></li>
                    <li><a href="{{ url_for('signin') }}" class="block py-2 px-4 hover:bg-blue-700 rounded transition">Sign In</a></li>
                </ul>
            </nav>
        </div>
    </div>

    <!-- Main Content -->
    <main class="content-wrapper py-6 sm:py-8 md:py-12 px-3 sm:px-4">
        <div class="max-w-md mx-auto">
            <div class="bg-white rounded-lg shadow-md p-4 sm:p-6 md:p-8">
                <h2 class="text-xl sm:text-2xl font-bold text-gray-800 mb-4 sm:mb-6 text-center">Create School Account</h2>
                
                <form id="schoolSignupForm" class="space-y-4 sm:space-y-6">
                    <div>
                        <label for="name" class="block text-xs sm:text-sm font-medium text-gray-700 mb-1.5 sm:mb-2">School Name</label>
                        <input type="text" id="name" name="name" required
                               class="w-full px-3 sm:px-4 py-2 sm:py-3 text-sm sm:text-base border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500"
                               placeholder="Enter school name">
                    </div>
                    
                    <div>
                        <label for="email" class="block text-xs sm:text-sm font-medium text-gray-700 mb-1.5 sm:mb-2">School Email Address</label>
                        <input type="email" id="email" name="email" required
                               class="w-full px-3 sm:px-4 py-2 sm:py-3 text-sm sm:text-base border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500"
                               placeholder="Enter school email address">
                    </div>
                    
                    <div>
                        <label for="password" class="block text-xs sm:text-sm font-medium text-gray-700 mb-1.5 sm:mb-2">Password</label>
                        <div class="relative">
                            <input type="password" id="password" name="password" required
                                   class="w-full px-3 sm:px-4 py-2 sm:py-3 pr-10 text-sm sm:text-base border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500"
                                   placeholder="Create a password">
                            <button type="button" id="togglePassword" class="absolute inset-y-0 right-0 pr-3 flex items-center text-gray-500 hover:text-gray-700" aria-label="Toggle password visibility">
                                <svg id="eyeIcon" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z" />
                                </svg>
                                <svg id="eyeOffIcon" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 hidden" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21" />
                                </svg>
                            </button>
                        </div>
                        <p class="text-xs sm:text-sm text-gray-500 mt-1">Password must be at least 8 characters long</p>
                    </div>
                    
                    <div>
                        <label for="confirmPassword" class="block text-xs sm:text-sm font-medium text-gray-700 mb-1.5 sm:mb-2">Confirm Password</label>
                        <div class="relative">
                            <input type="password" id="confirmPassword" name="confirmPassword" required
                                   class="w-full px-3 sm:px-4 py-2 sm:py-3 pr-10 text-sm sm:text-base border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500"
                                   placeholder="Confirm your password">
                            <button type="button" id="toggleConfirmPassword" class="absolute inset-y-0 right-0 pr-3 flex items-center text-gray-500 hover:text-gray-700" aria-label="Toggle confirm password visibility">
                                <svg id="eyeIconConfirm" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z" />
                                </svg>
                                <svg id="eyeOffIconConfirm" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 hidden" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21" />
                                </svg>
                            </button>
                        </div>
                    </div>
                    
                    <div>
                        <label for="address" class="block text-xs sm:text-sm font-medium text-gray-700 mb-1.5 sm:mb-2">School Address</label>
                        <textarea id="address" name="address" rows="3"
                                  class="w-full px-3 sm:px-4 py-2 sm:py-3 text-sm sm:text-base border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500"
                                  placeholder="Enter school address"></textarea>
                    </div>
                    
                    <div>
                        <label for="phone" class="block text-xs sm:text-sm font-medium text-gray-700 mb-1.5 sm:mb-2">Phone Number</label>
                        <input type="tel" id="phone" name="phone"
                               class="w-full px-3 sm:px-4 py-2 sm:py-3 text-sm sm:text-base border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500"
                               placeholder="Enter phone number">
                    </div>
                    
                    <div class="flex items-start">
                        <input type="checkbox" id="terms" name="terms" required
                               class="mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded flex-shrink-0">
                        <label for="terms" class="ml-2 block text-xs sm:text-sm text-gray-700">
                            I agree to the <a href="#" class="text-blue-600 hover:text-blue-500">Terms of Service</a> and 
                            <a href="#" class="text-blue-600 hover:text-blue-500">Privacy Policy</a>
                        </label>
                    </div>
                    
                    <div class="flex items-start">
                        <input type="checkbox" id="consent" name="consent" required
                               class="mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded flex-shrink-0">
                        <label for="consent" class="ml-2 block text-xs sm:text-sm text-gray-700">
                            I consent to participate in the dyslexia research study and understand that I can add parents to manage their children's participation
                        </label>
                    </div>
                    
                    <button type="submit" 
                            class="w-full primary-bg hover:bg-blue-600 text-white font-medium py-2.5 sm:py-3 px-4 sm:px-6 text-sm sm:text-base rounded-lg transition"
                            style="background-color: #1A237E;">
                        Create School Account
                    </button>
                </form>
                
                <div class="mt-4 sm:mt-6 text-center">
                    <p class="text-xs sm:text-sm text-gray-600">
                        Already have an account? 
                        <a href="{{ url_for('signin') }}" class="text-blue-600 hover:text-blue-500 font-medium">Sign In</a>
                    </p>
                </div>
                
                <!-- <div class="mt-6 text-center">
                    <p class="text-gray-600">
                        Want to participate as a regular participant? 
                        <a href="{{ url_for('signup') }}" class="text-blue-600 hover:text-blue-500 font-medium">Sign Up Here</a>
                    </p>
                </div> -->
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="dark-bg text-white py-8 sm:py-10 md:py-12 text-xs sm:text-sm md:text-base" style="background-color: #333333;">
        <div class="content-wrapper px-3 sm:px-4">
            <div class="flex flex-col md:flex-row justify-between">
                <div class="mb-6 sm:mb-8 md:mb-0">
                    <div class="flex items-center">
                        <h2 class="text-lg sm:text-xl font-bold">Dyslexia Research Initiative</h2>
                    </div>
                    <p class="mt-3 sm:mt-4 text-gray-400 max-w-md text-xs sm:text-sm">
                        Advancing our understanding of dyslexia through innovative research and technology to create better support systems for everyone.
                    </p>
                </div>
                
                <div class="grid grid-cols-2 md:grid-cols-3 gap-4 sm:gap-6 md:gap-8">
                    <div>
                        <h3 class="text-sm sm:text-base md:text-lg font-semibold mb-3 sm:mb-4">Quick Links</h3>
                        <ul class="space-y-1.5 sm:space-y-2">
                            <li><a href="{{ url_for('landing') }}#about" class="text-gray-400 hover:text-white transition text-xs sm:text-sm">About</a></li>
                            <li><a href="{{ url_for('landing') }}#contact" class="text-gray-400 hover:text-white transition text-xs sm:text-sm">Contact</a></li>
                        </ul>
                    </div>
                    
                    <div>
                        <h3 class="text-sm sm:text-base md:text-lg font-semibold mb-3 sm:mb-4">Resources</h3>
                        <ul class="space-y-1.5 sm:space-y-2">
                            <li><a href="{{ url_for('learn_more') }}#faq" class="text-gray-400 hover:text-white transition text-xs sm:text-sm">FAQs</a></li>
                            <li><a href="#" class="text-gray-400 hover:text-white transition text-xs sm:text-sm">Privacy Policy</a></li>
                        </ul>
                    </div>
                </div>
            </div>
            
            <div class="mt-8 sm:mt-10 md:mt-12 pt-6 sm:pt-8 border-t border-gray-700 text-center text-gray-400 text-xs sm:text-sm">
                <p>&copy; 2025 Leveraging NLP for Dyslexia Identification. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script>
        // Mobile menu functionality
        const hamburgerBtn = document.getElementById('hamburgerBtn');
        const mobileMenu = document.getElementById('mobileMenu');
        const mobileMenuContent = document.getElementById('mobileMenuContent');
        const closeMobileMenu = document.getElementById('closeMobileMenu');
        
        function openMobileMenu() {
            mobileMenu.classList.remove('hidden');
            setTimeout(() => {
                mobileMenuContent.classList.remove('translate-x-full');
            }, 10);
        }
        
        function closeMobileMenuFunc() {
            mobileMenuContent.classList.add('translate-x-full');
            setTimeout(() => {
                mobileMenu.classList.add('hidden');
            }, 300);
        }
        
        if (hamburgerBtn) {
            hamburgerBtn.addEventListener('click', openMobileMenu);
        }
        
        if (closeMobileMenu) {
            closeMobileMenu.addEventListener('click', closeMobileMenuFunc);
        }
        
        // Close menu when clicking outside
        if (mobileMenu) {
            mobileMenu.addEventListener('click', function(e) {
                if (e.target === mobileMenu) {
                    closeMobileMenuFunc();
                }
            });
        }
        
        // Close menu when clicking nav links
        document.querySelectorAll('#mobileMenuContent a').forEach(link => {
            link.addEventListener('click', function() {
                closeMobileMenuFunc();
            });
        });
        
        // Close menu on window resize to desktop size
        window.addEventListener('resize', function() {
            if (window.innerWidth >= 768) {
                closeMobileMenuFunc();
            }
        });
        
        // Password visibility toggle functionality
        const togglePassword = document.getElementById('togglePassword');
        const passwordField = document.getElementById('password');
        const eyeIcon = document.getElementById('eyeIcon');
        const eyeOffIcon = document.getElementById('eyeOffIcon');
        
        if (togglePassword) {
            togglePassword.addEventListener('click', function() {
                const type = passwordField.getAttribute('type') === 'password' ? 'text' : 'password';
                passwordField.setAttribute('type', type);
                
                // Toggle eye icon
                eyeIcon.classList.toggle('hidden');
                eyeOffIcon.classList.toggle('hidden');
            });
        }
        
        const toggleConfirmPassword = document.getElementById('toggleConfirmPassword');
        const confirmPasswordField = document.getElementById('confirmPassword');
        const eyeIconConfirm = document.getElementById('eyeIconConfirm');
        const eyeOffIconConfirm = document.getElementById('eyeOffIconConfirm');
        
        if (toggleConfirmPassword) {
            toggleConfirmPassword.addEventListener('click', function() {
                const type = confirmPasswordField.getAttribute('type') === 'password' ? 'text' : 'password';
                confirmPasswordField.setAttribute('type', type);
                
                // Toggle eye icon
                eyeIconConfirm.classList.toggle('hidden');
                eyeOffIconConfirm.classList.toggle('hidden');
            });
        }
        
        // Form submission handler
        document.getElementById('schoolSignupForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const formData = new FormData(this);
            const password = formData.get('password');
            const confirmPassword = formData.get('confirmPassword');
            
            // Validate password
            if (password.length < 8) {
                alert('Password must be at least 8 characters long');
                return;
            }
            
            // Validate password confirmation
            if (password !== confirmPassword) {
                alert('Passwords do not match');
                return;
            }
            
            // Validate terms and consent
            if (!formData.get('terms') || !formData.get('consent')) {
                alert('Please agree to the terms and consent to participate');
                return;
            }
            
            const data = {
                name: formData.get('name'),
                email: formData.get('email'),
                password: password,
                address: formData.get('address'),
                phone: formData.get('phone')
            };
            
            // Submit form
            fetch('/api/school/register', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify(data)
            })
            .then(res => res.json())
            .then(data => {
                if (data.success) {
                    // alert('School account created successfully! You will be redirected to the school dashboard.');
                    window.location.href = '/school.html';
                } else {
                    alert('Error: ' + data.message);
                }
            })
            .catch(error => {
                console.error('Error:', error);
                alert('An error occurred while creating your account.');
            });
        });
    </script>
</body>
</html> 